(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{106:function(e,t,n){"use strict";n.d(t,"a",(function(){return F}));var a=n(17),r=n.n(a),o=n(4),i=n.n(o),c=n(0),l=n.n(c),s=n(40),u=n(7),f=n(151),g=n(152),m=n(2),b=n(13),h=n(3),d=n(25);function p(e){return l.a.createElement(d.a,{style:E.container,onTouchStart:function(){return e.createNote()}},l.a.createElement(b.a,{style:E.noteText},"Note: ",l.a.createElement(b.a,{style:{color:e.noteColor}},e.note)),l.a.createElement(m.a,{style:E.textContainer},l.a.createElement(b.a,{style:E.text},"*Play the note on all of the strings"),l.a.createElement(b.a,{style:E.text},"*Tap anywhere on the screen or tap the spacebar to generate a new note*")))}var E=h.a.create({container:{textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:"#292B36",width:"100%",height:"100%"},textContainer:{color:"#fff",maxWidth:"75%"},noteText:{fontSize:50,color:"white",marginBottom:18},text:{color:"#fff",marginTop:10}}),y=n(18),S=n.n(y),v=n(66),x=n(121);function C(e){var t=Object(c.useState)(!1),n=i()(t,2),a=n[0],r=n[1];Object(c.useEffect)((function(){return"web"===u.a.OS&&document.addEventListener("keypress",(function(t){"Space"===t.code&&(r(!1),e.createNote(),e.createString())})),e.createNote(),e.createString(),function(){"web"===u.a.OS&&document.removeEventListener("keypress")}}),[]);var o,f=Object(c.useCallback)((function(){return S.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.awrap(v.a.canOpenURL("https://brandon205.github.io/guitario/"));case 2:if(!e.sent){e.next=8;break}return e.next=6,S.a.awrap(v.a.openURL("https://brandon205.github.io/guitario/"));case 6:e.next=9;break;case 8:Alert.alert("Don't know how to open this URL: https://brandon205.github.io/guitario/");case 9:case"end":return e.stop()}}),null,null,null,Promise)}));return o="web"!==u.a.OS?l.a.createElement(s.a,{title:"Go To the Full Site",onPress:function(){return f()}}):l.a.createElement(l.a.Fragment,null),l.a.createElement(m.a,{style:w.container},l.a.createElement(b.a,{style:w.title},"To Play"),l.a.createElement(b.a,{style:{display:a?"flex":"none",color:"white",fontSize:30}},"Correct fret: ",x[e.string][e.note]),l.a.createElement(d.a,{style:w.toPlay,onPress:function(){return r(!1),e.createNote(),void e.createString()}},l.a.createElement(b.a,{style:w.noteText},"String: ",l.a.createElement(b.a,{style:{color:e.stringColor}},e.string)),l.a.createElement(b.a,{style:w.noteText},"Note: ",l.a.createElement(b.a,{style:{color:e.noteColor}},e.note))),l.a.createElement(b.a,{style:w.text},"*Tap above or tap the spacebar to generate a new note to play*"),l.a.createElement(d.a,{onPress:function(){return r(!a)}},l.a.createElement(m.a,{style:w.button},l.a.createElement(b.a,{style:w.buttonText},"Stuck?"))),o)}var w=h.a.create({container:{textAlign:"center",display:"flex",flex:1,alignItems:"center",backgroundColor:"#292B36"},noteText:{fontSize:50,color:"white",paddingTop:20},text:{color:"#fff",marginTop:15,maxWidth:"75%"},title:{fontSize:40,fontWeight:"bold",color:"white",textDecorationLine:"underline",marginTop:35},answer:{fontSize:12,marginTop:15,color:"white",fontWeight:"bold"},toPlay:{display:"flex",alignItems:"center"},button:{display:"flex",justifyContent:"center",alignItems:"center",marginTop:20,marginBottom:50,backgroundColor:"#2196F3",borderRadius:20},buttonText:{color:"white",padding:10,fontSize:20}});var k=new AudioContext,T=k.createAnalyser(),O=new Float32Array(2048),A=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],j={C:"#22ff00","C#":"#00ff38",D:"#007cff","D#":"#0500ff",E:"#4500ea",F:"#57009e","F#":"#55004f",G:"#b30000","G#":"#ee0000",A:"#ff6300","A#":"#ffec00",B:"#99ff00"};function D(e){var t=Object(c.useState)(null),n=i()(t,2),a=n[0],r=n[1],o=Object(c.useState)(!1),s=i()(o,2),u=s[0],f=s[1],g=Object(c.useState)("N/A"),h=i()(g,2),p=h[0],E=h[1],y=Object(c.useState)("4"),v=i()(y,2),x=(v[0],v[1]),w=Object(c.useState)("0"),D=i()(w,2),B=D[0],F=D[1],G=Object(c.useState)(!1),P=i()(G,2),z=P[0],M=P[1];Object(c.useEffect)((function(){null!=a&&a.connect(T)}),[a]),Object(c.useEffect)((function(){z&&(e.createNote(),e.createString())}),[z]),Object(c.useEffect)((function(){z&&M(!1)}),[e.note]),setInterval((function(e){T.getFloatTimeDomainData(O);var t=function(e,t){for(var n=e.length,a=0,r=0;r<n;r++){var o=e[r];a+=o*o}if((a=Math.sqrt(a/n))<.01)return-1;for(var i=0,c=n-1,l=0;l<n/2;l++)if(Math.abs(e[l])<.2){i=l;break}for(var s=1;s<n/2;s++)if(Math.abs(e[n-s])<.2){c=n-s;break}n=(e=e.slice(i,c)).length;for(var u=new Array(n).fill(0),f=0;f<n;f++)for(var g=0;g<n-f;g++)u[f]=u[f]+e[g]*e[g+f];for(var m=0;u[m]>u[m+1];)m++;for(var b=-1,h=-1,d=m;d<n;d++)u[d]>b&&(b=u[d],h=d);var p=h,E=u[p-1],y=u[p],S=u[p+1],v=(E+S-2*y)/2;return v&&(p-=(S-E)/2/(2*v)),t/p}(O,k.sampleRate);if(t>-1){var n=function(e){var t=Math.log(e/440)/Math.log(2)*12;return Math.round(t)+69}(t),a=A[n%12],r=Math.floor(n/12)-1;F(parseFloat(t).toFixed(2)+" Hz"),E(a),x(r)}}),1);var L,R=function(){return navigator.mediaDevices.getUserMedia({audio:{echoCancellation:!0,autoGainControl:!1,noiseSuppression:!1,latency:0}})};return p===e.note&&(z||M(!0)),L=u?l.a.createElement(d.a,{onPress:function(){a.disconnect(T),f(!1)}},l.a.createElement(m.a,{style:N.button},l.a.createElement(b.a,{style:N.buttonText},"Stop"))):l.a.createElement(d.a,{onPress:function(){var e;return S.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,S.a.awrap(R());case 2:if(e=t.sent,"suspended"!==k.state){t.next=6;break}return t.next=6,S.a.awrap(k.resume());case 6:f(!0),r(k.createMediaStreamSource(e));case 8:case"end":return t.stop()}}),null,null,null,Promise)}},l.a.createElement(m.a,{style:N.button},l.a.createElement(b.a,{style:N.buttonText},"Start"))),l.a.createElement(m.a,{style:N.container},l.a.createElement(C,{createNote:function(){return e.createNote()},createString:function(){return e.createString()},string:e.string,note:e.note,noteColor:e.noteColor,stringColor:e.stringColor}),l.a.createElement(b.a,{style:N.title},"Currently Playing"),l.a.createElement(b.a,{style:{color:j[p],fontSize:30,fontWeight:"bold",marginTop:12}},p),l.a.createElement(b.a,{style:{color:j[p],fontSize:30,fontWeight:"bold",marginTop:12}},B,"hz"),L)}var N=h.a.create({container:{display:"flex",alignItems:"center",backgroundColor:"#292B36",overflow:"visible"},title:{fontSize:40,fontWeight:"bold",color:"white",textDecorationLine:"underline",marginTop:55,marginBottom:15},button:{display:"flex",justifyContent:"center",alignItems:"center",marginTop:20,backgroundColor:"#2196F3",borderRadius:20,marginBottom:70},buttonText:{color:"white",padding:10,fontSize:20}}),B=Object(g.a)();function F(){var e,t=Object(c.useState)("0"),n=i()(t,2),a=n[0],o=n[1],g=Object(c.useState)("E (6th)"),m=i()(g,2),b=m[0],h=m[1],d=Object(c.useState)("#33CC33"),E=i()(d,2),y=E[0],S=E[1],v=Object(c.useState)("#D07173"),x=i()(v,2),C=x[0],w=x[1],k=function(){switch(Math.floor(7*Math.random()).toString()){case"0":o("A"),S("#ff6300");break;case"1":o("B"),S("#99ff00");break;case"2":o("C"),S("#28ff00");break;case"3":o("D"),S("#007cff");break;case"4":o("E"),S("#4500ea");break;case"5":o("F"),S("#57009e");break;case"6":o("G"),S("#b30000");break;default:o("Uh oh, this should be a note... Try again")}},T=function(){switch(Math.floor(6*Math.random()).toString()){case"0":h("E (6th)"),w("#4500ea");break;case"1":h("A (5th)"),w("#ff6300");break;case"2":h("D (4th)"),w("#007cff");break;case"3":h("G (3rd)"),w("#b30000");break;case"4":h("B (2nd)"),w("#99ff00");break;case"5":h("e (1st)"),w("#4500ea");break;default:h("Uh oh, this should be a string... Try again")}};return e="web"===u.a.OS?l.a.createElement(B.Screen,{name:"Guitario",options:function(e){var t=e.navigation;return{headerRight:function(){return l.a.createElement(s.a,{title:"Notes >",onPress:function(){return t.navigate("Notes")}})}}}},(function(e){return l.a.createElement(D,r()({},e,{createNote:function(){return k()},createString:function(){return T()},string:b,note:a,noteColor:y,stringColor:C}))})):l.a.createElement(B.Screen,{name:"Guitario",options:function(e){var t=e.navigation;return{headerRight:function(){return l.a.createElement(s.a,{title:"Notes >",onPress:function(){return t.navigate("Notes")}})}}}},(function(e){return l.a.createElement(D,r()({},e,{createNote:function(){return k()},createString:function(){return T()},string:b,note:a,noteColor:y,stringColor:C}))})),l.a.createElement(f.a,null,l.a.createElement(B.Navigator,{screenOptions:{headerStyle:{backgroundColor:"#19191B"},headerTintColor:"#fff",headerTitleAlign:"center",headerTitleStyle:{fontSize:24,fontWeight:"bold"}}},e,l.a.createElement(B.Screen,{name:"Notes",options:function(e){var t=e.navigation;return{headerLeft:function(){return l.a.createElement(s.a,{title:"< Guitario",onPress:function(){return t.navigate("Guitario")}})}}}},(function(e){return l.a.createElement(p,r()({},e,{createNote:function(){return k()},note:a,noteColor:y}))}))))}},110:function(e,t,n){e.exports=n(145)},121:function(e){e.exports=JSON.parse('{"6":{"0":"Unknown"},"E (6th)":{"A":"5","B":"7","C":"8","D":"10","E":"12","F":"1","G":"3"},"A (5th)":{"A":"12","B":"2","C":"3","D":"5","E":"7","F":"9","G":"10"},"D (4th)":{"A":"7","B":"9","C":"10","D":"12","E":"2","F":"3","G":"5"},"G (3rd)":{"A":"2","B":"4","C":"5","D":"7","E":"9","F":"10","G":"12"},"B (2nd)":{"A":"10","B":"12","C":"1","D":"3","E":"5","F":"6","G":"8"},"e (1st)":{"A":"5","B":"7","C":"8","D":"10","E":"12","F":"1","G":"3"}}')}},[[110,1,2]]]);
//# sourceMappingURL=app.e644268d.chunk.js.map